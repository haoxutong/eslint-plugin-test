/**
 * @fileoverview this is a rule for not allow require some files
 * @author haoxutong
 * @copyright 2015 haoxutong. All rights reserved.
 * See LICENSE file in root directory for full license.
 */
"use strict";

//------------------------------------------------------------------------------
// Rule Definition
//------------------------------------------------------------------------------

module.exports = function(context) {

    // variables should be defined here

    //--------------------------------------------------------------------------
    // Helpers
    //--------------------------------------------------------------------------

    // any helper functions should go here or else delete this section

    //--------------------------------------------------------------------------
    // Public
    //--------------------------------------------------------------------------

    return {

        // give me methods
        "CallExpression":function CallExpression(node) {
            var first = context.getTokens(node);
            var sourceCode = context.getSourceCode();
            var source = sourceCode.getText();
            var variables=context.getScope();
            // console.log(first);
            if(first[2].value == '\'./config.js\''){
                // context.report(node, "This file is a config file, disallow require!!.")
                context.report({
                    node: node,
                    message: "This file is a config file, disallow require!!."
                });
            }

        }

    };
};

module.exports.schema = [
    // fill in your schema
];
